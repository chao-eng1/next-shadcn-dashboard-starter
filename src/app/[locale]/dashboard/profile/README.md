# Profile Module - ä¸ªäººèµ„æ–™æ¨¡å—

## æ¦‚è¿°

ä¸ªäººèµ„æ–™æ¨¡å—æ˜¯ä¼ä¸šçº§é¡¹ç›®ç®¡ç†ç³»ç»Ÿçš„æ ¸å¿ƒç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼Œæä¾›å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯å±•ç¤ºã€ç¼–è¾‘å’Œç®¡ç†åŠŸèƒ½ã€‚è¯¥æ¨¡å—é‡‡ç”¨ç°ä»£åŒ–çš„è®¾è®¡ç†å¿µï¼Œæ”¯æŒå¤šæ ‡ç­¾é¡µå¸ƒå±€ï¼Œæ¶µç›–ç”¨æˆ·æ¦‚è§ˆã€ä¸ªäººä¿¡æ¯ã€å®‰å…¨è®¾ç½®ã€åå¥½é…ç½®å’Œæ´»åŠ¨è®°å½•ç­‰åŠŸèƒ½ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ ä¸»è¦ç‰¹æ€§

- **ç”¨æˆ·ä¿¡æ¯å±•ç¤º**: å®Œæ•´çš„ç”¨æˆ·åŸºæœ¬ä¿¡æ¯å±•ç¤ºï¼ŒåŒ…æ‹¬å¤´åƒã€å§“åã€é‚®ç®±ã€ä¸ªäººç®€ä»‹ç­‰
- **å¤šæ ‡ç­¾é¡µå¸ƒå±€**: 5ä¸ªåŠŸèƒ½æ ‡ç­¾é¡µï¼Œæ¸…æ™°åˆ†ç±»ä¸åŒç±»å‹çš„ç”¨æˆ·ä¿¡æ¯
- **ç»Ÿè®¡æ•°æ®æ¦‚è§ˆ**: ç”¨æˆ·æ´»åŠ¨ç»Ÿè®¡ï¼ŒåŒ…æ‹¬é¡¹ç›®å‚ä¸ã€ä»»åŠ¡å®Œæˆã€æ–‡æ¡£åˆ›å»ºç­‰
- **å®‰å…¨è®¾ç½®ç®¡ç†**: å¯†ç ä¿®æ”¹ã€ä¸¤æ­¥éªŒè¯ã€è®¾å¤‡ç®¡ç†ç­‰å®‰å…¨åŠŸèƒ½
- **åå¥½è®¾ç½®**: ä¸»é¢˜ã€è¯­è¨€ã€é€šçŸ¥ç­‰ä¸ªæ€§åŒ–é…ç½®
- **æ´»åŠ¨è®°å½•**: è¯¦ç»†çš„ç”¨æˆ·æ“ä½œå†å²è®°å½•
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯

### ğŸ“Š åŠŸèƒ½æ¨¡å—

#### 1. æ¦‚è§ˆ (Overview)
- ç”¨æˆ·æ´»åŠ¨ç»Ÿè®¡å¡ç‰‡
- æœ€è¿‘æ´»åŠ¨æ—¶é—´çº¿
- å¿«é€Ÿæ•°æ®æ´å¯Ÿ

#### 2. ä¸ªäººä¿¡æ¯ (Personal)
- åŸºæœ¬ä¿¡æ¯å±•ç¤º
- è”ç³»æ–¹å¼ç®¡ç†
- ä¸ªäººç®€ä»‹ç¼–è¾‘

#### 3. å®‰å…¨è®¾ç½® (Security)
- å¯†ç ç®¡ç†
- ä¸¤æ­¥éªŒè¯è®¾ç½®
- ç™»å½•è®¾å¤‡ç®¡ç†
- å®‰å…¨æ—¥å¿—æŸ¥çœ‹

#### 4. åå¥½è®¾ç½® (Preferences)
- ç•Œé¢ä¸»é¢˜é€‰æ‹©
- è¯­è¨€è®¾ç½®
- é€šçŸ¥åå¥½é…ç½®

#### 5. æ´»åŠ¨è®°å½• (Activity)
- è¯¦ç»†æ“ä½œå†å²
- æŒ‰æ—¥æœŸåˆ†ç»„æ˜¾ç¤º
- æ“ä½œç±»å‹å›¾æ ‡æ ‡è¯†

## æŠ€æœ¯å®ç°

### ğŸ›  æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 15 + React 19
- **ç±»å‹ç³»ç»Ÿ**: TypeScript
- **æ ·å¼**: Tailwind CSS v4
- **ç»„ä»¶åº“**: shadcn/ui + Radix UI
- **å›¾æ ‡**: Lucide React
- **å›½é™…åŒ–**: next-intl
- **çŠ¶æ€ç®¡ç†**: React Hooks (useState)
- **è·¯ç”±**: Next.js App Router

### ğŸ“ æ–‡ä»¶ç»“æ„

```
src/app/[locale]/dashboard/profile/
â”œâ”€â”€ [[...profile]]/
â”‚   â””â”€â”€ page.tsx                 # åŠ¨æ€è·¯ç”±é¡µé¢
â”œâ”€â”€ README.md                    # æ¨¡å—æ–‡æ¡£
src/features/profile/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ profile-view-page.tsx    # ä¸»è¦å±•ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ profile-create-form.tsx  # åˆ›å»ºè¡¨å•ç»„ä»¶
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ form-schema.ts           # è¡¨å•éªŒè¯æ¨¡å¼
```

### ğŸ¨ è®¾è®¡ç³»ç»Ÿ

#### ç»„ä»¶ä½¿ç”¨
- `Card`: ä¿¡æ¯å¡ç‰‡å®¹å™¨
- `Tabs`: å¤šæ ‡ç­¾é¡µå¯¼èˆª
- `Avatar`: ç”¨æˆ·å¤´åƒå±•ç¤º
- `Badge`: çŠ¶æ€æ ‡ç­¾
- `Button`: äº¤äº’æŒ‰é’®
- `Separator`: å†…å®¹åˆ†éš”çº¿
- `Heading`: é¡µé¢æ ‡é¢˜ç»„ä»¶
- `PageContainer`: é¡µé¢å¸ƒå±€å®¹å™¨

#### å›¾æ ‡ç³»ç»Ÿ
- `User`: ç”¨æˆ·ç›¸å…³
- `Activity`: æ´»åŠ¨è®°å½•
- `Shield`: å®‰å…¨è®¾ç½®
- `Settings`: ç³»ç»Ÿè®¾ç½®
- `Bell`: é€šçŸ¥æ¶ˆæ¯
- `Edit`: ç¼–è¾‘æ“ä½œ
- `Camera`: å¤´åƒä¸Šä¼ 

### ğŸ“± å“åº”å¼è®¾è®¡

```css
/* ç§»åŠ¨ç«¯ä¼˜å…ˆè®¾è®¡ */
.grid {
  @apply gap-6;
  @apply md:grid-cols-2;  /* ä¸­ç­‰å±å¹• 2 åˆ— */
  @apply lg:grid-cols-4;  /* å¤§å±å¹• 4 åˆ— */
}

/* å¼¹æ€§å¸ƒå±€é€‚é… */
.flex {
  @apply flex-col;        /* ç§»åŠ¨ç«¯å‚ç›´å¸ƒå±€ */
  @apply sm:flex-row;     /* å°å±å¹•æ°´å¹³å¸ƒå±€ */
}
```

## æ•°æ®æ¨¡å‹

### ç”¨æˆ·ä¿¡æ¯æ¨¡å‹

```typescript
interface UserProfile {
  id: string;
  name: string;
  email: string;
  image?: string;
  bio?: string;
  location?: string;
  website?: string;
  phone?: string;
  timezone: string;
  language: string;
  theme: 'light' | 'dark' | 'system';
  createdAt: Date;
  updatedAt: Date;
  stats: {
    projectsCount: number;
    tasksCompleted: number;
    documentsCreated: number;
    messagesCount: number;
  };
}
```

### æ´»åŠ¨è®°å½•æ¨¡å‹

```typescript
interface ActivityRecord {
  id: string;
  userId: string;
  action: string;
  target: string;
  type: 'task' | 'document' | 'project' | 'message';
  timestamp: Date;
  metadata?: Record<string, any>;
}
```

## ç»„ä»¶ API

### ProfileViewPage

ä¸»è¦çš„ä¸ªäººèµ„æ–™å±•ç¤ºç»„ä»¶ï¼ŒåŒ…å«å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯ç®¡ç†ç•Œé¢ã€‚

```typescript
interface ProfileViewPageProps {
  // å½“å‰ä¸ºè‡ªåŒ…å«ç»„ä»¶ï¼Œæ— éœ€å¤–éƒ¨ props
  // æœªæ¥å¯æ‰©å±•æ”¯æŒç”¨æˆ· ID å‚æ•°
}
```

#### çŠ¶æ€ç®¡ç†

```typescript
const [activeTab, setActiveTab] = useState<string>('overview');
```

#### ä¸»è¦æ–¹æ³•

- `handleTabChange`: æ ‡ç­¾é¡µåˆ‡æ¢å¤„ç†
- `handleEditProfile`: ç¼–è¾‘èµ„æ–™å¤„ç†
- `handleAvatarUpload`: å¤´åƒä¸Šä¼ å¤„ç†

## å›½é™…åŒ–æ”¯æŒ

### æ–‡æœ¬é”®å€¼

```json
{
  "profile": {
    "title": "ä¸ªäººèµ„æ–™",
    "description": "ç®¡ç†æ‚¨çš„ä¸ªäººä¿¡æ¯å’Œè´¦æˆ·è®¾ç½®",
    "tabs": {
      "overview": "æ¦‚è§ˆ",
      "personal": "ä¸ªäººä¿¡æ¯",
      "security": "å®‰å…¨è®¾ç½®",
      "preferences": "åå¥½è®¾ç½®",
      "activity": "æ´»åŠ¨è®°å½•"
    },
    "stats": {
      "projects": "å‚ä¸é¡¹ç›®",
      "tasks": "å®Œæˆä»»åŠ¡",
      "documents": "åˆ›å»ºæ–‡æ¡£",
      "messages": "æ¶ˆæ¯æ•°é‡"
    }
  }
}
```

## å¼€å‘æŒ‡å—

### ğŸš€ å¿«é€Ÿå¼€å§‹

1. **å®‰è£…ä¾èµ–**
   ```bash
   pnpm install
   ```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   pnpm run dev:all
   ```

3. **è®¿é—®é¡µé¢**
   ```
   http://localhost:3000/dashboard/profile
   ```

### ğŸ”§ å¼€å‘è§„èŒƒ

#### ä»£ç é£æ ¼
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ç»„ä»¶ä½¿ç”¨ PascalCase å‘½å
- æ–‡ä»¶ä½¿ç”¨ kebab-case å‘½å

#### ç»„ä»¶å¼€å‘
```typescript
// ç»„ä»¶æ¨¡æ¿
'use client';

import { useState } from 'react';
import { useTranslations } from 'next-intl';

export default function ProfileComponent() {
  const t = useTranslations('profile');
  
  return (
    <div className='space-y-4'>
      {/* ç»„ä»¶å†…å®¹ */}
    </div>
  );
}
```

#### æ ·å¼è§„èŒƒ
```typescript
// ä½¿ç”¨ Tailwind CSS ç±»å
className='flex items-center space-x-4 rounded-lg border p-4'

// å“åº”å¼è®¾è®¡
className='grid gap-4 md:grid-cols-2 lg:grid-cols-3'

// ä¸»é¢˜é€‚é…
className='bg-background text-foreground'
```

### ğŸ§ª æµ‹è¯•

#### ç»„ä»¶æµ‹è¯•
```typescript
import { render, screen } from '@testing-library/react';
import ProfileViewPage from './profile-view-page';

describe('ProfileViewPage', () => {
  it('renders user information correctly', () => {
    render(<ProfileViewPage />);
    expect(screen.getByText('ä¸ªäººèµ„æ–™')).toBeInTheDocument();
  });
});
```

## æ€§èƒ½ä¼˜åŒ–

### ğŸš€ ä¼˜åŒ–ç­–ç•¥

1. **ä»£ç åˆ†å‰²**
   ```typescript
   const ProfileEditForm = lazy(() => import('./profile-edit-form'));
   ```

2. **å›¾ç‰‡ä¼˜åŒ–**
   ```typescript
   import Image from 'next/image';
   
   <Image
     src={user.image}
     alt={user.name}
     width={96}
     height={96}
     className='rounded-full'
   />
   ```

3. **çŠ¶æ€ä¼˜åŒ–**
   ```typescript
   const memoizedStats = useMemo(() => {
     return calculateUserStats(user);
   }, [user]);
   ```

## å®‰å…¨è€ƒè™‘

### ğŸ”’ å®‰å…¨æªæ–½

- **æ•°æ®éªŒè¯**: ä½¿ç”¨ Zod è¿›è¡Œè¾“å…¥éªŒè¯
- **æƒé™æ§åˆ¶**: åŸºäºç”¨æˆ·è§’è‰²çš„è®¿é—®æ§åˆ¶
- **æ•æ„Ÿä¿¡æ¯**: é¿å…åœ¨å®¢æˆ·ç«¯æš´éœ²æ•æ„Ÿæ•°æ®
- **XSS é˜²æŠ¤**: ä½¿ç”¨ React çš„å†…ç½® XSS é˜²æŠ¤

## æœªæ¥è§„åˆ’

### ğŸ¯ åŠŸèƒ½æ‰©å±•

- [ ] å®æ—¶æ•°æ®åŒæ­¥
- [ ] å¤´åƒä¸Šä¼ åŠŸèƒ½
- [ ] ç¤¾äº¤åª’ä½“é“¾æ¥
- [ ] æŠ€èƒ½æ ‡ç­¾ç®¡ç†
- [ ] å·¥ä½œç»å†æ—¶é—´çº¿
- [ ] æˆå°±å¾½ç« ç³»ç»Ÿ
- [ ] æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] éšç§è®¾ç½®ç®¡ç†

### ğŸ”§ æŠ€æœ¯æ”¹è¿›

- [ ] é›†æˆ Clerk ç”¨æˆ·ç®¡ç†
- [ ] æ·»åŠ è¡¨å•éªŒè¯
- [ ] å®ç°æ•°æ®æŒä¹…åŒ–
- [ ] æ·»åŠ åŠ è½½çŠ¶æ€
- [ ] é”™è¯¯è¾¹ç•Œå¤„ç†
- [ ] æ— éšœç¢è®¿é—®ä¼˜åŒ–

## è´¡çŒ®æŒ‡å—

### ğŸ“ æäº¤è§„èŒƒ

```bash
# åŠŸèƒ½å¼€å‘
git commit -m "feat(profile): add user avatar upload"

# é—®é¢˜ä¿®å¤
git commit -m "fix(profile): resolve tab switching issue"

# æ ·å¼è°ƒæ•´
git commit -m "style(profile): improve mobile responsive layout"
```

### ğŸ” ä»£ç å®¡æŸ¥

- ç¡®ä¿ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- éªŒè¯å“åº”å¼è®¾è®¡æ•ˆæœ
- æ£€æŸ¥å›½é™…åŒ–æ–‡æœ¬å®Œæ•´æ€§
- æµ‹è¯•å„ç§ç”¨æˆ·åœºæ™¯

---

## è”ç³»ä¿¡æ¯

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- é¡¹ç›®ä»“åº“: [GitHub Repository]
- é—®é¢˜åé¦ˆ: [Issues]
- æ–‡æ¡£æ›´æ–°: [Documentation]

---

*æœ€åæ›´æ–°: 2024å¹´1æœˆ*
